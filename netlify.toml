# Netlify Configuration for HyperDiaScan
# This deploys the React frontend built by Vite

[build]
# Build command - install deps first, then build Vite frontend only
command = "CI= npm run build"
# Directory to deploy (Vite output)
publish = "dist/public"
# Node version to use
node_version = "18"

# Redirect all non-matching routes to index.html for React Router (SPA routing)
[[redirects]]
from = "/*"
to = "/index.html"
status = 200

[build.environment]
  NPM_CONFIG_PRODUCTION = "false"

# Environment configuration
[env.production]
NODE_ENV = "production"

[context.production.environment]
NODE_ENV = "production"

# Dev context for local testing
[context.development]
NODE_ENV = "development"
